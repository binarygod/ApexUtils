const menuTemplate='<div class="PrUnTools_Menu_Wrap" id="PrUnTools_Menu"></div>',menuItemTemplate='<div class="PrUnTools_Menu_Item {{:class}}" title="{{:tooltip}}">\n            <span class="PrUnTools_Menu_Item_Label" id="{{:id}}">{{:text}}</span>\n            <div class="PrUnTools_Menu_Item_Indicator"></div>\n        </div>',bufferTemplate='<div class="PrUnTools_TileFrame">\n            <div class="PrUnTools_TileFrame_Header">\n                <div class="PrUnTools_TileFrame_Title">{{:title}}</div>\n                <div class="PrUnTools_TileFrame_SubTitle">{{:subtitle}}</div>\n            </div>\n            <div class="PrUnTools_TileFrame_Body">\n                <div class="PrUnTools_TileFrame_Anchor">\n                    <div style="position: relative; overflow: hidden; width: 100%; height: 100%;">\n                        <div style="position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px; overflow: scroll; margin-right: -17px; margin-bottom: -17px;">\n                            {{:content}}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>',alertTemplate='\n        <div class="PrUnTools_Alert_Overlay alert-{{:color}}">\n            <div class="PrUnTools_Alert_Content">\n                <span class="PrUnTools_Alert_Title">\n                    <span>{{:alert_title}}</span>\n                </span>\n                <span class="PrUnTools_Alert_Content">\n                    <div>\n                        <span>{{:alert_message}}</span>\n                    </div>\n                </span>\n            </div>\n        </div>\n    ';class ApexUtils{constructor(){this._screenChangeDelay=750}load(e=""){if($("BODY").hasClass("PrUnTools"))$("HEAD").append($("<STYLE>").html(e));else{$("BODY").addClass("PrUnTools");let o=".PrUnTools_Menu_Wrap{margin-top:30px}.PrUnTools_Menu_Item{display:flex;flex-direction:row;align-items:center;justify-content:center;margin-bottom:1px;background-color:rgba(255,255,255,.05);cursor:pointer}.PrUnTools_Menu_Item_Label{display:inline-block;flex-grow:1;padding:0 4px 0 6px;line-height:19px;color:#999;text-transform:uppercase;font-family:'Droid Sans',sans-serif;font-size:11px}.PrUnTools_Menu_Item_Label:hover{color:#ddd}.PrUnTools_Menu_Item_Indicator{display:inline-block;width:2px;height:19px;background-color:rgba(63,162,222,.15)}.PrUnTools_Menu_Item.PrUnTools_Disabled .PrUnTools_Menu_Item_Label{color:#626262;cursor:not-allowed}.PrUnTools_Menu_Item.PrUnTools_Disabled .PrUnTools_Menu_Item_Label:hover{color:#626262;cursor:not-allowed}.PrUnTools_TileFrame{position:relative;display:flex;flex-direction:column;height:100%}.PrUnTools_TileFrame_Header{background-color:rgba(63,162,222,.15);color:#eee;padding:5px 8px;white-space:nowrap;border-bottom:1px solid rgba(63,162,222,.2);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:'Droid Sans',sans-serif;font-size:11px;text-transform:uppercase}.PrUnTools_TileFrame_Title{font-family:'Open Sans',sans-serif;display:inline;text-transform:uppercase;line-height:normal}.PrUnTools_TileFrame_SubTitle{font-size:8px;line-height:1;display:inline-block;margin-left:2px;color:#999}.PrUnTools_TileFrame_Body{font-family:'Droid Sans',sans-serif;font-size:11px;line-height:1.1;color:#bbb;position:relative;flex-grow:1}.PrUnTools_TileFrame_Anchor{position:absolute;top:0;bottom:0;width:100%}.PrUnTools_Menu_Item_Indicator.red{background-color:#d91818;background-color:#d91818;-webkit-box-shadow:0 0 6px 0 #5cb85c;-moz-box-shadow:0 0 6px 0 #5cb85c;box-shadow:0 0 6px 0 #d91818}.PrUnTools_Menu_Item_Indicator.green{background-color:#22d818;background-color:#22d818;-webkit-box-shadow:0 0 6px 0 #5cb85c;-moz-box-shadow:0 0 6px 0 #5cb85c;box-shadow:0 0 6px 0 #22d818}.PrUnTools_Menu_Item_Indicator.light-green{background-color:#62ef5b;background-color:#62ef5b;-webkit-box-shadow:0 0 6px 0 #5cb85c;-moz-box-shadow:0 0 6px 0 #5cb85c;box-shadow:0 0 6px 0 #62ef5b}.PrUnTools_Menu_Item_Indicator.blue{background-color:#1853d7;background-color:#1853d7;-webkit-box-shadow:0 0 6px 0 #5cb85c;-moz-box-shadow:0 0 6px 0 #5cb85c;box-shadow:0 0 6px 0 #1853d7}.PrUnTools_Menu_Item_Indicator.light-blue{background-color:#638eee;background-color:#638eee;-webkit-box-shadow:0 0 6px 0 #5cb85c;-moz-box-shadow:0 0 6px 0 #5cb85c;box-shadow:0 0 6px 0 #638eee}.PrUnTools_Menu_Item_Indicator.pulse-effect{animation:effects__pulse 2s infinite}.PrUnTools_Menu_Item_Indicator.rapid-pulse{animation:effects__pulse .25s infinite}@keyframes effects__pulse{0%{opacity:1}50%{opacity:.25}100%{opacity:1}}table.PrUnTools_Table{width:100%;border-collapse:collapse;width:100%;font-family:'Droid Sans',sans-serif;font-size:11px;line-height:1.1}table.PrUnTools_Table td,table.PrUnTools_Table th{font-weight:400;padding:5px 8px}table.PrUnTools_Table thead th{border-bottom:1px solid #2b485a;text-align:left;padding:5px 8px 2px}table.PrUnTools_Table tbody td{padding:2px 8px;border-left:1px solid #2b485a}table.PrUnTools_Table tbody td:first-child{border-left:none}table.PrUnTools_Table tbody td:nth-child(odd){background-color:#23282b}table.PrUnTools_Table tbody{border-bottom:1px solid #2b485a}table.PrUnTools_Table tr.totals{border-top:1px solid #2b485a}input[type=number].PrUnTools_Control,input[type=text].PrUnTools_Control{height:17px;line-height:17px;padding:0 4px;border:0;border-bottom:1px solid #8d6411;background-color:#42361d;color:#bbb;text-align:right;width:100%}input.PrUnTools_Control:focus{outline:0;border-bottom:1px solid #f7a600}.center-cell{text-align:center}.accounting-cell{text-align:right}.PrUnTools_Alert_Overlay{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;flex-direction:column;justify-content:center;background-size:96px 96px;z-index:99}.PrUnTools_Alert_Overlay .PrUnTools_Alert_Content{display:block;padding:10px;text-align:center;color:#fff}.PrUnTools_Alert_Overlay .PrUnTools_Alert_Title{font-size:14px;line-height:1.1;font-weight:600}.PrUnTools_Alert_Overlay.alert-yellow{background-color:rgba(240,173,78,.3);background-image:repeating-linear-gradient(-45deg,transparent,transparent 25%,rgba(240,173,78,.5) 25%,rgba(240,173,78,.5) 50%)}.PrUnTools_Alert_Overlay.alert-yellow .PrUnTools_Alert_Content{color:#272727;background-color:#f0ad4e}.PrUnTools_Alert_Overlay.alert-red{background-color:rgba(241,56,56,.316);background-image:repeating-linear-gradient(-45deg,transparent,transparent 25%,rgba(241,56,56,.4) 25%,rgba(241,56,56,.4) 50%)}.PrUnTools_Alert_Overlay.alert-red .PrUnTools_Alert_Content{color:#ebebeb;background-color:#f23838}.PrUnTools_Alert_Overlay.alert-green{background-color:rgba(56,241,56,.239);background-image:repeating-linear-gradient(-45deg,transparent,transparent 25%,rgba(56,241,56,.4) 25%,rgba(56,241,56,.4) 50%)}.PrUnTools_Alert_Overlay.alert-green .PrUnTools_Alert_Content{color:#fff;background-color:#0bae1c}";$("HEAD").append($("<STYLE>").html(o+e)),setTimeout(()=>{$('[class^="Frame__sidebar"] DIV[class^="Frame__toggle__"]:last').after($(menuTemplate)),document.dispatchEvent(new Event("PrUnTools_ScreenChanged")),$("body").on("DOMSubtreeModified",'SPAN[class^="HeadItem__label"]',()=>{setTimeout(()=>{document.dispatchEvent(new Event("PrUnTools_ScreenChanged"))},this._screenChangeDelay)}),document.dispatchEvent(new Event("PrUnTools_Loaded"))},5e3)}}get screenChangeDelay(){return this._screenChangeDelay}set screenChangeDelay(e){this._screenChangeDelay=e}addMenuItem(e,o,t="",n,l="",r=!1,a="#PrUnTools_Menu"){r&&(l+="PrUnTools_Disabled");let s=menuItemTemplate.replace("{{:id}}",e).replace("{{:text}}",o).replace("{{:tooltip}}",t).replace("{{:class}}",l),i=$(s);$(a).append($(i)),void 0!==n&&$(i).click(n)}get menuAnchor(){return'[class^="Frame__sidebar"]'}showBuffer(e,o,t,n,l){$('[class^="Dock__create__"]').click();let r=$('DIV[class^="Window__window___"]:not(".PrUnTools_taken") DIV[class^="Tile__selector__"]:first').parent().parent().parent().addClass("PrUnTools_taken");$(r).find('DIV[class^="Tile__selector__"]').remove(),$(r).find('DIV[class^="Tile__controls__"]').remove(),$(r).find('SPAN[class^="Window__close__"]').remove();let a=bufferTemplate.replace("{{:title}}",e).replace("{{:subtitle}}",o).replace("{{:content}}",l);$(r).find('DIV[class^="Window__body__"]').attr("style","position: relative; user-select: auto; width: "+t+"px; height: "+n+"px; box-sizing: border-box;"),$(r).find('DIV[class^="Tile__tile__"]').append($(a))}showAlertBuffer(e,o,t,n,l,r,a="yellow"){$('[class^="Dock__create__"]').click();let s=$('DIV[class^="Window__window___"]:not(".PrUnTools_taken") DIV[class^="Tile__selector__"]:first').parent().parent().parent().addClass("PrUnTools_taken");$(s).find('DIV[class^="Tile__selector__"]').remove(),$(s).find('DIV[class^="Tile__controls__"]').remove(),$(s).find('SPAN[class^="Window__close__"]').remove();let i=alertTemplate.replace("{{:alert_title}}",t).replace("{{:alert_message}}",n).replace("{{:color}}",a),d=bufferTemplate.replace("{{:title}}",e).replace("{{:subtitle}}",o).replace("{{:content}}",i);$(s).find('DIV[class^="Window__body__"]').attr("style","position: relative; user-select: auto; width: "+l+"px; height: "+r+"px; box-sizing: border-box;"),$(s).find('DIV[class^="Tile__tile__"]').append($(d))}help(){return"<div style=\"padding: 0 20px;\">\n                <h2>Welcome to ApexUtils</h2>\n                <h3>What is ApexUtils</h3>\n                <p>PrUnTools started as a private set of tools that I wrote with another member of the community. I then \n                noticed that I could seperate the Apex code in to it's own reusable library which resulted in ApexUtils.  This would allow me to keep\n                 my tools and provide a framework for others to use to create their own.</p>\n                <p>ApexUtils is a set of utility functions designed to be used by TamperMonkey scripts (or similar products) \n                 to interact with the APEX interface in a safe way.  The utility also loads CSS that mimics the style of\n                  APEX but with class names you can use in your own HTML.</p>\n                <h3>What ApexUtils is NOT</h3>\n                <p>ApexUtils is NOT a framework for creating Bots.  It performs only one automatic click to create a \n                new buffer window.  I have personally showed this feature to the Devs and they are ok with it.  <strong>You</strong> are\n                 responsible for what  you create with the tool.</p>\n                <h3>Is this against ToS</h3>\n                <p>No. ApexUtils itself only reads and adds content to the Client.  It does not send data to the server or\n                automate client tasks.  ApexUtils interfaces with the DOM elements of the page and does not attempt to \n                interact with the Javascript in the page, all modifications are done using it's own Javascript utilizing \n                jQuery.</p>\n                <h3>What can I use ApexUtils for</h3>\n                <p>ApexUtils can be used to make anything that would be useful on the client.  For example the included FMAP \n                utility used to show the Flat Map of the universe.</p>\n                <h3>Resources</h3>\n                <ul>\n                    <li>GitHub</li>\n                </ul>\n            </div>"}}const apex=new ApexUtils;Object.freeze(apex);